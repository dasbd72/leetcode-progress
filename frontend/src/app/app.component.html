<header
  class="bg-gray-800 text-white px-[4vw] md:px-5 py-3 flex items-center justify-between shadow"
>
  <div class="truncate font-semibold md:w-[40vw] w-[6rem]">LeetCode Progress</div>
  <nav class="flex flex-nowrap items-center justify-end whitespace-nowrap space-x-4 w-[40vw]">
    <a
      routerLink="/"
      routerLinkActive="text-yellow-400 underline"
      [routerLinkActiveOptions]="{ exact: true }"
      class="hover:text-yellow-300 transition"
    >
      Home
    </a>
    <a
      routerLink="/total"
      routerLinkActive="text-yellow-400 underline"
      class="hover:text-yellow-300 transition"
    >
      Total
    </a>
    <a
      routerLink="/chart"
      routerLinkActive="text-yellow-400 underline"
      class="hover:text-yellow-300 transition"
    >
      Chart
    </a>

    <!-- Dropdown Button -->
    <a
      *ngIf="!isAuthenticated"
      (click)="login()"
      class="hover:text-yellow-300 hover:cursor-pointer transition"
    >
      Login
    </a>
    <div *ngIf="isAuthenticated" class="relative dropdown">
      <button
        (click)="toggleDropdown()"
        class="hover:text-yellow-300 hover:cursor-pointer transition"
      >
        Hello, {{ preferred_username }}
      </button>

      <!-- Dropdown Menu -->
      <div
        *ngIf="isDropdownOpen"
        class="absolute right-0 w-24 mt-2 origin-top-right bg-gray-800 rounded-md shadow-lg"
      >
        <a routerLink="/u/profile" class="block px-3 py-2 text-white hover:bg-gray-700">
          Profile
        </a>
        <a routerLink="/u/settings" class="block px-3 py-2 text-white hover:bg-gray-700">
          Settings
        </a>
        <a
          (click)="logout()"
          class="block text-left w-full px-3 py-2 text-white hover:bg-gray-700 hover:cursor-pointer rounded-b-md"
        >
          Logout
        </a>
      </div>
    </div>

    <a
      href="https://github.com/dasbd72/leetcode-progress"
      target="_blank"
      rel="noopener noreferrer"
      class="hover:text-yellow-300 transition"
      aria-label="GitHub Repository"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
        class="w-6 h-6"
      >
        <path
          d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.799 8.205 11.387.6.111.82-.261.82-.58 0-.287-.012-1.243-.018-2.253-3.338.726-4.042-1.609-4.042-1.609-.546-1.387-1.333-1.756-1.333-1.756-1.089-.744.083-.729.083-.729 1.205.085 1.84 1.237 1.84 1.237 1.07 1.835 2.809 1.305 3.495.997.108-.775.419-1.305.763-1.604-2.665-.304-5.467-1.333-5.467-5.931 0-1.31.468-2.381 1.235-3.221-.124-.303-.535-1.527.117-3.176 0 0 1.008-.322 3.301 1.23a11.52 11.52 0 0 1 3.003-.404 11.52 11.52 0 0 1 3.003.404c2.292-1.552 3.298-1.23 3.298-1.23.653 1.649.242 2.873.119 3.176.77.84 1.233 1.911 1.233 3.221 0 4.609-2.807 5.625-5.48 5.922.43.372.823 1.103.823 2.222 0 1.604-.015 2.896-.015 3.289 0 .322.216.694.825.576C20.565 21.796 24 17.298 24 12c0-6.63-5.37-12-12-12Z"
        />
      </svg>
    </a>
  </nav>
</header>

<main class="">
  <router-outlet></router-outlet>
</main>
